(this["webpackJsonpcircles-no-4"]=this["webpackJsonpcircles-no-4"]||[]).push([[0],{17:function(e,t,i){},32:function(e,t,i){"use strict";i.r(t);var s=i(1),n=i.n(s),o=i(11),a=i.n(o),r=(i(17),i(4));window.p5=r;i(19);var d=i(12),h=i(0);function u(){return Object(h.jsxs)("svg",{id:"play-icon",className:"fade-out",xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24",children:[Object(h.jsx)("path",{d:"M0 0h24v24H0z",fill:"none"}),Object(h.jsx)("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})]})}var c=i(2),l=i(3),p=function(){function e(t,i,s,n,o){Object(c.a)(this,e),this.p=t,this.x=i,this.y=s,this.size=n,this.fill=o}return Object(l.a)(e,[{key:"draw",value:function(){this.p.strokeWeight(1),this.p.stroke("#000000"),this.p.fill(this.fill),this.p.ellipse(this.x,this.y,this.size)}},{key:"update",value:function(){this.size=this.size-this.size/16}}]),e}(),g=function(){function e(t,i,s){Object(c.a)(this,e),this.ringColours=s,this.p=t,this.x=i,this.y=0}return Object(l.a)(e,[{key:"draw",value:function(){this.p.strokeWeight(3),this.p.noFill();for(var e=0;e<this.ringColours.length;e++){var t=this.p.color(this.ringColours[e]);t.setAlpha(63),this.p.stroke(t),this.p.circle(this.x,this.y*e,this.p.width/32)}}},{key:"update",value:function(){this.y++}}]),e}(),f=function(){function e(t,i,s,n){Object(c.a)(this,e),this.p=t,this.x=i+this.p.random(-this.p.width/32,this.p.width/32),this.y=s+this.p.random(-this.p.width/32,this.p.width/32),this.strokeColour=this.p.color(this.p.random(n)),this.fillColour=this.strokeColour,this.fillColour.setAlpha(31),this.speed=3,this.ax=this.p.random(-this.speed,this.speed),this.ay=this.p.random(-this.speed,this.speed),this.gravity=.1,this.diameter=.8*this.p.dist(this.x,this.y,i,s)}return Object(l.a)(e,[{key:"update",value:function(){this.diameter=this.diameter-.15,this.x+=this.ax/2,this.y+=this.ay/2,this.x+=this.p.random(-this.speed/2,this.speed/2),this.y+=this.p.random(-this.speed/2,this.speed/2)}},{key:"ballisFinished",value:function(){if(this.diameter<0)return!0}},{key:"draw",value:function(){this.p.noStroke(),this.diameter>0&&(this.p.noFill(),this.p.stroke(this.strokeColour),this.p.ellipse(this.x,this.y,this.diameter,this.diameter),this.p.ellipse(this.x,this.y,.2*this.diameter,.2*this.diameter))}}]),e}(),b=i.p+"static/media/circles-no-4.3dee84da.ogg",m=i.p+"static/media/circles-no-4.5509e77e.mid",v=function(){var e=Object(s.useRef)(),t=function(e){e.canvas=null,e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.audioLoaded=!1,e.song=null,e.tempo=110,e.barAsSeconds=Math.floor(60/e.tempo*4*1e5)/1e5,e.PPQ=15360,e.drumHits=[],e.metalRings=[],e.bubbles=[],e.loadMidi=function(){d.Midi.fromUrl(m).then((function(t){console.log(t);var i=t.tracks[7].notes,s=t.tracks[1].notes,n=t.tracks[4].notes;e.scheduleCueSet(i,"executeCueSet1"),e.scheduleCueSet(s,"executeCueSet2"),e.scheduleCueSet(n,"executeCueSet3"),e.audioLoaded=!0,document.getElementById("loader").classList.add("loading--complete"),document.getElementById("play-icon").classList.remove("fade-out")}))},e.preload=function(){e.song=e.loadSound(b,e.loadMidi),e.song.onended(e.logCredits)},e.scheduleCueSet=function(t,i){for(var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=-1,o=1,a=0;a<t.length;a++){var r=t[a],d=r.ticks,h=r.time;(d!==n||s)&&(r.currentCue=o,e.song.addCue(h,e[i],r),n=d,o++)}},e.backgroundColour=0,e.setup=function(){e.canvas=e.createCanvas(e.canvasWidth,e.canvasHeight),e.background(e.backgroundColour)},e.draw=function(){if(e.audioLoaded&&e.song.isPlaying()){for(var t=0;t<e.drumHits.length;t++)e.drumHits[t].update(),e.drumHits[t].draw();for(t=0;t<e.metalRings.length;t++)e.metalRings[t].update(),e.metalRings[t].draw(),e.metalRings[t].y>e.height&&e.metalRings.splice(t,1);for(t=0;t<e.bubbles.length;t++)e.bubbles[t].update(),e.bubbles[t].draw(),e.bubbles[t].ballisFinished()&&e.bubbles.splice(t,1)}},e.executeCueSet1=function(t){var i=Math.floor(1e5*t.time)/1e5;if(parseFloat(i)>=parseFloat(e.barAsSeconds)){for(;i>=e.barAsSeconds;)i-=e.barAsSeconds;i=i>0?i:0}var s=e.width/32+e.width/e.barAsSeconds*i,n=0,o=255;switch(t.midi){case 44:n=e.height/6*1,o=255;break;case 37:n=e.height/6*3,o=191;break;case 36:n=e.height/6*5,o=127}e.drumHits.push(new p(e,s,n,e.width/16,o))},e.colourPallete=["#F94144","#F65A38","#F3722C","#F68425","#F8961E","#F9AF37","#F9C74F","#C5C35E","#90BE6D","#6AB47C","#43AA8B","#4D908E"],e.executeCueSet2=function(t){if(t.currentCue%11==1&&t.currentCue>1){e.backgroundColour--,e.background(e.backgroundColour),e.bubbles=[];var s=i(30);e.colourPallete=s({count:12,luminosity:"dark"})}var n=Math.floor(1e5*t.time)/1e5,o=2*e.barAsSeconds;if(parseFloat(n)>=parseFloat(o)){for(;n>=o;)n-=o;n=n>0?n:0}var a=e.width/32*3+e.width/o*n;e.metalRings.push(new g(e,a,e.colourPallete))},e.executeCueSet3=function(t){t.currentCue%11==1&&t.currentCue<55&&(e.backgroundColour--,e.background(e.backgroundColour),e.metalRings=[]);var i=Math.floor(1e5*t.time)/1e5,s=2*e.barAsSeconds;if(parseFloat(i)>=parseFloat(s)){for(;i>=s;)i-=s;i=i>0?i:0}for(var n=e.width/32*3+e.width/s*i,o=e.random(0,e.height),a=0;a<32;a++)e.bubbles.push(new f(e,e.map(n,0,e.width,e.width,0),o,e.colourPallete))},e.mousePressed=function(){e.audioLoaded&&(e.song.isPlaying()?e.song.pause():(parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&e.reset(),document.getElementById("play-icon").classList.add("fade-out"),e.canvas.addClass("fade-in"),e.song.play()))},e.creditsLogged=!1,e.logCredits=function(){!e.creditsLogged&&parseInt(e.song.currentTime())>=parseInt(e.song.buffer.duration)&&(e.creditsLogged=!0,console.log("Music By: http://labcat.nz/","\n","Animation By: https://github.com/LABCAT/"),e.song.stop())},e.reset=function(){},e.updateCanvasDimensions=function(){e.canvasWidth=window.innerWidth,e.canvasHeight=window.innerHeight,e.canvas=e.resizeCanvas(e.canvasWidth,e.canvasHeight)},window.attachEvent?window.attachEvent("onresize",(function(){e.updateCanvasDimensions()})):window.addEventListener&&window.addEventListener("resize",(function(){e.updateCanvasDimensions()}),!0)};return Object(s.useEffect)((function(){new r(t,e.current)}),[]),Object(h.jsx)("div",{ref:e,children:Object(h.jsx)(u,{})})};var w=function(){return Object(h.jsx)(v,{})};a.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(w,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.55f86fd7.chunk.js.map