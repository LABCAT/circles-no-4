{"version":3,"sources":["js/helpers/Globals.js","js/functions/PlayIcon.js","js/classes/DrumHit.js","js/classes/Rings.js","js/classes/Bubble.js","audio/circles-no-4.ogg","audio/circles-no-4.mid","js/P5SketchWithAudio.js","js/App.js","index.js"],"names":["window","p5","PlayIcon","id","className","xmlns","height","viewBox","width","d","fill","DrumHit","x","y","size","this","p","strokeWeight","stroke","ellipse","Rings","ringColours","noFill","i","length","colour","color","setAlpha","circle","Bubble","colorPallette","random","strokeColour","fillColour","speed","ax","ay","gravity","diameter","dist","noStroke","P5SketchWithAudio","sketchRef","useRef","Sketch","canvas","canvasWidth","innerWidth","canvasHeight","innerHeight","audioLoaded","song","tempo","barAsSeconds","Math","floor","PPQ","drumHits","metalRings","bubbles","loadMidi","Midi","fromUrl","midi","then","result","console","log","noteSet1","tracks","notes","noteSet2","noteSet3","scheduleCueSet","document","getElementById","classList","add","remove","preload","loadSound","audio","onended","logCredits","noteSet","callbackName","poly","lastTicks","currentCue","note","ticks","time","addCue","backgroundColour","setup","createCanvas","background","draw","isPlaying","update","splice","ballisFinished","executeCueSet1","xPos","parseFloat","push","colourPallete","executeCueSet2","randomColor","require","count","luminosity","twoBars","executeCueSet3","map","mousePressed","pause","parseInt","currentTime","buffer","duration","reset","addClass","play","creditsLogged","stop","updateCanvasDimensions","resizeCanvas","attachEvent","addEventListener","useEffect","current","ref","App","ReactDOM","render","StrictMode"],"mappings":"qOAGAA,OAAOC,GAAKA,E,yBCHG,SAASC,IACpB,OACI,sBAAKC,GAAG,YAAYC,UAAU,WAAWC,MAAM,6BAA6BC,OAAO,KAAKC,QAAQ,YAAYC,MAAM,KAAlH,UACI,sBAAMC,EAAE,gBAAgBC,KAAK,SAC7B,sBAAMD,EAAE,2J,kBCJCE,E,WAEjB,WAAYV,EAAIW,EAAGC,EAAGC,EAAMJ,GAAO,oBAC/BK,KAAKC,EAAIf,EACTc,KAAKH,EAAIA,EACTG,KAAKF,EAAIA,EACTE,KAAKD,KAAOA,EACZC,KAAKL,KAAOA,E,wCAGhB,WACIK,KAAKC,EAAEC,aAAa,GACpBF,KAAKC,EAAEE,OAAO,WACdH,KAAKC,EAAEN,KAAKK,KAAKL,MACjBK,KAAKC,EAAEG,QAAQJ,KAAKH,EAAGG,KAAKF,EAAGE,KAAKD,Q,oBAGxC,WACIC,KAAKD,KAAOC,KAAKD,KAAQC,KAAKD,KAAO,O,KClBxBM,E,WAEjB,WAAYnB,EAAIW,EAAGS,GAAc,oBAC7BN,KAAKM,YAAcA,EACnBN,KAAKC,EAAIf,EACTc,KAAKH,EAAIA,EACTG,KAAKF,EAAI,E,wCAGb,WACIE,KAAKC,EAAEC,aAAa,GACpBF,KAAKC,EAAEM,SAEP,IAAK,IAAIC,EAAI,EAAGA,EAAIR,KAAKM,YAAYG,OAAQD,IAAK,CAC9C,IAAME,EAASV,KAAKC,EAAEU,MAAMX,KAAKM,YAAYE,IAC7CE,EAAOE,SAAS,IAChBZ,KAAKC,EAAEE,OAAOO,GACdV,KAAKC,EAAEY,OAAOb,KAAKH,EAAGG,KAAKF,EAAIU,EAAGR,KAAKC,EAAER,MAAM,O,oBAIvD,WACIO,KAAKF,Q,KCtBQgB,E,WACjB,WAAY5B,EAAIW,EAAGC,EAAGiB,GAAgB,oBAClCf,KAAKC,EAAIf,EACTc,KAAKH,EAAIA,EAAIG,KAAKC,EAAEe,QAAShB,KAAKC,EAAER,MAAQ,GAAKO,KAAKC,EAAER,MAAQ,IAChEO,KAAKF,EAAIA,EAAIE,KAAKC,EAAEe,QAAShB,KAAKC,EAAER,MAAQ,GAAKO,KAAKC,EAAER,MAAQ,IAChEO,KAAKiB,aAAejB,KAAKC,EAAEU,MAAMX,KAAKC,EAAEe,OAAOD,IAC/Cf,KAAKkB,WAAalB,KAAKiB,aACvBjB,KAAKkB,WAAWN,SAAS,IACzBZ,KAAKmB,MAAQ,EACbnB,KAAKoB,GAAKpB,KAAKC,EAAEe,QAAQhB,KAAKmB,MAAOnB,KAAKmB,OAC1CnB,KAAKqB,GAAKrB,KAAKC,EAAEe,QAAQhB,KAAKmB,MAAOnB,KAAKmB,OAC1CnB,KAAKsB,QAAU,GACftB,KAAKuB,SAAiD,GAArCvB,KAAKC,EAAEuB,KAAKxB,KAAKH,EAAGG,KAAKF,EAAGD,EAAGC,G,0CAGpD,WACIE,KAAKuB,SAAWvB,KAAKuB,SAAW,IAChCvB,KAAKH,GAAKG,KAAKoB,GAAK,EACpBpB,KAAKF,GAAKE,KAAKqB,GAAK,EAEpBrB,KAAKH,GAAKG,KAAKC,EAAEe,QAAQhB,KAAKmB,MAAQ,EAAGnB,KAAKmB,MAAQ,GACtDnB,KAAKF,GAAKE,KAAKC,EAAEe,QAAQhB,KAAKmB,MAAQ,EAAGnB,KAAKmB,MAAQ,K,4BAG1D,WACI,GAAInB,KAAKuB,SAAW,EAChB,OAAO,I,kBAIf,WACIvB,KAAKC,EAAEwB,WACHzB,KAAKuB,SAAW,IAChBvB,KAAKC,EAAEM,SACPP,KAAKC,EAAEE,OAAOH,KAAKiB,cACnBjB,KAAKC,EAAEG,QAAQJ,KAAKH,EAAGG,KAAKF,EAAGE,KAAKuB,SAAUvB,KAAKuB,UAEnDvB,KAAKC,EAAEG,QAAQJ,KAAKH,EAAGG,KAAKF,EAAmB,GAAhBE,KAAKuB,SAAgC,GAAhBvB,KAAKuB,e,KCrCtD,MAA0B,yCCA1B,MAA0B,yCCsR1BG,EAzQW,WACtB,IAAMC,EAAYC,mBAEZC,EAAS,SAAA5B,GAEXA,EAAE6B,OAAS,KAEX7B,EAAE8B,YAAc9C,OAAO+C,WAEvB/B,EAAEgC,aAAehD,OAAOiD,YAExBjC,EAAEkC,aAAc,EAEhBlC,EAAEmC,KAAO,KAETnC,EAAEoC,MAAQ,IAEVpC,EAAEqC,aAAeC,KAAKC,MAAQ,GAAKvC,EAAEoC,MAAS,EAAK,KAAU,IAE7DpC,EAAEwC,IAAM,MAERxC,EAAEyC,SAAW,GAEbzC,EAAE0C,WAAa,GAEf1C,EAAE2C,QAAU,GAEZ3C,EAAE4C,SAAW,WACTC,OAAKC,QAAQC,GAAMC,MACf,SAASC,GACLC,QAAQC,IAAIF,GACZ,IAAMG,EAAWH,EAAOI,OAAO,GAAGC,MAC5BC,EAAWN,EAAOI,OAAO,GAAGC,MAC5BE,EAAWP,EAAOI,OAAO,GAAGC,MAClCtD,EAAEyD,eAAeL,EAAU,kBAC3BpD,EAAEyD,eAAeF,EAAU,kBAC3BvD,EAAEyD,eAAeD,EAAU,kBAC3BxD,EAAEkC,aAAc,EAChBwB,SAASC,eAAe,UAAUC,UAAUC,IAAI,qBAChDH,SAASC,eAAe,aAAaC,UAAUE,OAAO,gBAMlE9D,EAAE+D,QAAU,WACR/D,EAAEmC,KAAOnC,EAAEgE,UAAUC,EAAOjE,EAAE4C,UAC9B5C,EAAEmC,KAAK+B,QAAQlE,EAAEmE,aAGrBnE,EAAEyD,eAAiB,SAACW,EAASC,GAGzB,IAH0D,IAAnBC,EAAkB,wDACrDC,GAAa,EACbC,EAAa,EACRjE,EAAI,EAAGA,EAAI6D,EAAQ5D,OAAQD,IAAK,CAC/B,IAAAkE,EAAOL,EAAQ7D,GACfmE,EAAgBD,EAAhBC,MAAOC,EAASF,EAATE,MACVD,IAAUH,GAAaD,KACtBG,EAAKD,WAAaA,EAClBxE,EAAEmC,KAAKyC,OAAOD,EAAM3E,EAAEqE,GAAeI,GACrCF,EAAYG,EACZF,OAKZxE,EAAE6E,iBAAmB,EAErB7E,EAAE8E,MAAQ,WACN9E,EAAE6B,OAAS7B,EAAE+E,aAAa/E,EAAE8B,YAAa9B,EAAEgC,cAC3ChC,EAAEgF,WAAWhF,EAAE6E,mBAGnB7E,EAAEiF,KAAO,WACL,GAAGjF,EAAEkC,aAAelC,EAAEmC,KAAK+C,YAAY,CACnC,IAAK,IAAI3E,EAAI,EAAGA,EAAIP,EAAEyC,SAASjC,OAAQD,IACnCP,EAAEyC,SAASlC,GAAG4E,SACdnF,EAAEyC,SAASlC,GAAG0E,OAGlB,IAAS1E,EAAI,EAAGA,EAAIP,EAAE0C,WAAWlC,OAAQD,IACrCP,EAAE0C,WAAWnC,GAAG4E,SAChBnF,EAAE0C,WAAWnC,GAAG0E,OAEZjF,EAAE0C,WAAWnC,GAAGV,EAAIG,EAAEV,QACtBU,EAAE0C,WAAW0C,OAAO7E,EAAG,GAI/B,IAASA,EAAI,EAAGA,EAAIP,EAAE2C,QAAQnC,OAAQD,IAClCP,EAAE2C,QAAQpC,GAAG4E,SACbnF,EAAE2C,QAAQpC,GAAG0E,OACTjF,EAAE2C,QAAQpC,GAAG8E,kBACbrF,EAAE2C,QAAQyC,OAAO7E,EAAG,KAMpCP,EAAEsF,eAAiB,SAACb,GAChB,IAAIc,EAAOjD,KAAKC,MAAkB,IAAZkC,EAAKE,MAAiB,IAC5C,GAAGa,WAAWD,IAASC,WAAWxF,EAAEqC,cAAc,CAC9C,KAAMkD,GAAQvF,EAAEqC,cACZkD,GAAcvF,EAAEqC,aAGpBkD,EAAOA,EAAO,EAAIA,EAAO,EAG7B,IAAI3F,EAAKI,EAAER,MAAM,GAAOQ,EAAER,MAAQQ,EAAEqC,aAAekD,EAC/C1F,EAAI,EACJH,EAAO,IAEX,OAAO+E,EAAK1B,MACR,KAAK,GACDlD,EAAKG,EAAEV,OAAS,EAAK,EACrBI,EAAO,IACP,MACJ,KAAK,GACDG,EAAKG,EAAEV,OAAS,EAAK,EACrBI,EAAO,IACP,MACJ,KAAK,GACDG,EAAKG,EAAEV,OAAS,EAAK,EACrBI,EAAO,IAIfM,EAAEyC,SAASgD,KAAK,IAAI9F,EAAQK,EAAGJ,EAAGC,EAAGG,EAAER,MAAQ,GAAIE,KAGvDM,EAAE0F,cAAgB,CACd,UAAW,UAAW,UACtB,UAAW,UAAW,UACtB,UAAW,UAAW,UACtB,UAAW,UAAW,WAG1B1F,EAAE2F,eAAiB,SAAClB,GAChB,GAAGA,EAAKD,WAAa,IAAM,GAAKC,EAAKD,WAAa,EAAE,CAChDxE,EAAE6E,mBACF7E,EAAEgF,WAAWhF,EAAE6E,kBACf7E,EAAE2C,QAAU,GACZ,IAAMiD,EAAcC,EAAQ,IAC5B7F,EAAE0F,cAAgBE,EAAY,CAC1BE,MAAO,GACPC,WAAY,SAGpB,IAAIR,EAAOjD,KAAKC,MAAkB,IAAZkC,EAAKE,MAAiB,IACtCqB,EAA2B,EAAjBhG,EAAEqC,aAClB,GAAGmD,WAAWD,IAASC,WAAWQ,GAAS,CACvC,KAAMT,GAAQS,GACVT,GAAcS,EAGlBT,EAAOA,EAAO,EAAIA,EAAO,EAE7B,IAAM3F,EAAKI,EAAER,MAAM,GAAM,EAAKQ,EAAER,MAAQwG,EAAUT,EAClDvF,EAAE0C,WAAW+C,KAAK,IAAIrF,EAAMJ,EAAGJ,EAAGI,EAAE0F,iBAGxC1F,EAAEiG,eAAiB,SAACxB,GACbA,EAAKD,WAAa,IAAM,GAAKC,EAAKD,WAAa,KAC9CxE,EAAE6E,mBACF7E,EAAEgF,WAAWhF,EAAE6E,kBACf7E,EAAE0C,WAAa,IAEnB,IAAI6C,EAAOjD,KAAKC,MAAkB,IAAZkC,EAAKE,MAAiB,IACtCqB,EAA2B,EAAjBhG,EAAEqC,aAClB,GAAGmD,WAAWD,IAASC,WAAWQ,GAAS,CACvC,KAAMT,GAAQS,GACVT,GAAcS,EAGlBT,EAAOA,EAAO,EAAIA,EAAO,EAI7B,IAFA,IAAM3F,EAAKI,EAAER,MAAM,GAAM,EAAKQ,EAAER,MAAQwG,EAAUT,EAC9C1F,EAAIG,EAAEe,OAAO,EAAGf,EAAEV,QACbiB,EAAI,EAAGA,EAAI,GAAIA,IACpBP,EAAE2C,QAAQ8C,KACN,IAAI5E,EACAb,EACAA,EAAEkG,IAAItG,EAAG,EAAGI,EAAER,MAAOQ,EAAER,MAAO,GAC9BK,EACAG,EAAE0F,iBAMlB1F,EAAEmG,aAAe,WACVnG,EAAEkC,cACGlC,EAAEmC,KAAK+C,YACPlF,EAAEmC,KAAKiE,SAEHC,SAASrG,EAAEmC,KAAKmE,gBAAkBD,SAASrG,EAAEmC,KAAKoE,OAAOC,WACzDxG,EAAEyG,QAEN/C,SAASC,eAAe,aAAaC,UAAUC,IAAI,YACnD7D,EAAE6B,OAAO6E,SAAS,WAClB1G,EAAEmC,KAAKwE,UAKnB3G,EAAE4G,eAAgB,EAElB5G,EAAEmE,WAAa,YAENnE,EAAE4G,eACHP,SAASrG,EAAEmC,KAAKmE,gBAAkBD,SAASrG,EAAEmC,KAAKoE,OAAOC,YAEzDxG,EAAE4G,eAAgB,EACd1D,QAAQC,IACR,8BACA,KACA,4CAEJnD,EAAEmC,KAAK0E,SAIf7G,EAAEyG,MAAQ,aAIVzG,EAAE8G,uBAAyB,WACvB9G,EAAE8B,YAAc9C,OAAO+C,WACvB/B,EAAEgC,aAAehD,OAAOiD,YACxBjC,EAAE6B,OAAS7B,EAAE+G,aAAa/G,EAAE8B,YAAa9B,EAAEgC,eAG3ChD,OAAOgI,YACPhI,OAAOgI,YACH,YACA,WACIhH,EAAE8G,4BAIL9H,OAAOiI,kBACZjI,OAAOiI,iBACH,UACA,WACIjH,EAAE8G,4BAEN,IAYZ,OAJAI,qBAAU,WACN,IAAIjI,EAAG2C,EAAQF,EAAUyF,WAC1B,IAGC,qBAAKC,IAAK1F,EAAV,SACI,cAACxC,EAAD,OCzQGmI,MANf,WACE,OACE,cAAC,EAAD,KCCJC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF9D,SAASC,eAAe,W","file":"static/js/main.39cc6c91.chunk.js","sourcesContent":["// p5.sound doesn't work correctly when p5 is not available in the global name space so we add it here\n// https://github.com/processing/p5.js-sound/issues/512\nimport * as p5 from \"p5\";\nwindow.p5 = p5;\n","export default function PlayIcon() {\n    return (\n        <svg id=\"play-icon\" className='fade-out' xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n            <path d=\"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" />\n        </svg>\n    )\n}\n","export default class DrumHit {\n\n    constructor(p5, x, y, size, fill) {\n        this.p = p5;\n        this.x = x;\n        this.y = y;\n        this.size = size;\n        this.fill = fill;\n    }\n\n    draw() {\n        this.p.strokeWeight(1);\n        this.p.stroke('#000000');\n        this.p.fill(this.fill);\n        this.p.ellipse(this.x, this.y, this.size);   \n    }\n\n    update() {\n        this.size = this.size - (this.size / 16);\n    }\n\n}","export default class Rings {\n\n    constructor(p5, x, ringColours) {\n        this.ringColours = ringColours;\n        this.p = p5;\n        this.x = x;\n        this.y = 0;\n    }\n\n    draw() {\n        this.p.strokeWeight(3);\n        this.p.noFill();\n        \n        for (let i = 0; i < this.ringColours.length; i++) {\n            const colour = this.p.color(this.ringColours[i]);\n            colour.setAlpha(63);\n            this.p.stroke(colour);\n            this.p.circle(this.x, this.y * i, this.p.width/32);    \n        }\n    }\n\n    update() {\n        this.y++;\n    }\n\n}","export default class Bubble {\n    constructor(p5, x, y, colorPallette) {\n        this.p = p5;\n        this.x = x + this.p.random(-(this.p.width / 32), this.p.width / 32);\n        this.y = y + this.p.random(-(this.p.width / 32), this.p.width / 32);\n        this.strokeColour = this.p.color(this.p.random(colorPallette));\n        this.fillColour = this.strokeColour;\n        this.fillColour.setAlpha(31);\n        this.speed = 3;\n        this.ax = this.p.random(-this.speed, this.speed);\n        this.ay = this.p.random(-this.speed, this.speed);\n        this.gravity = 0.1;\n        this.diameter = (this.p.dist(this.x, this.y, x, y)) * 0.8;\n    }\n\n    update() {\n        this.diameter = this.diameter - 0.15;\n        this.x += this.ax / 2;\n        this.y += this.ay / 2;\n\n        this.x += this.p.random(-this.speed / 2, this.speed / 2);\n        this.y += this.p.random(-this.speed / 2, this.speed / 2);\n    }\n\n    ballisFinished() {\n        if (this.diameter < 0) {\n            return true;\n        }\n    }\n\n    draw() {\n        this.p.noStroke();\n        if (this.diameter > 0) {\n            this.p.noFill();\n            this.p.stroke(this.strokeColour);\n            this.p.ellipse(this.x, this.y, this.diameter, this.diameter);\n            // this.p.fill(this.fillColour);\n            this.p.ellipse(this.x, this.y, this.diameter * 0.2, this.diameter * 0.2);\n        }\n    }\n}","export default __webpack_public_path__ + \"static/media/circles-no-4.3dee84da.ogg\";","export default __webpack_public_path__ + \"static/media/circles-no-4.5509e77e.mid\";","import React, { useRef, useEffect } from \"react\";\nimport \"./helpers/Globals\";\nimport \"p5/lib/addons/p5.sound\";\nimport * as p5 from \"p5\";\nimport { Midi } from '@tonejs/midi'\nimport PlayIcon from './functions/PlayIcon.js';\nimport DrumHit from './classes/DrumHit.js';\nimport Rings from './classes/Rings.js';\nimport Bubble from './classes/Bubble.js';\n\nimport audio from \"../audio/circles-no-4.ogg\";\nimport midi from \"../audio/circles-no-4.mid\";\n\nconst P5SketchWithAudio = () => {\n    const sketchRef = useRef();\n\n    const Sketch = p => {\n\n        p.canvas = null;\n\n        p.canvasWidth = window.innerWidth;\n\n        p.canvasHeight = window.innerHeight;\n\n        p.audioLoaded = false;\n\n        p.song = null;\n\n        p.tempo = 110;\n\n        p.barAsSeconds = Math.floor(((60 / p.tempo) * 4) * 100000) / 100000;\n\n        p.PPQ = 3840 * 4;\n\n        p.drumHits = [];\n        \n        p.metalRings = [];\n\n        p.bubbles = [];\n\n        p.loadMidi = () => {\n            Midi.fromUrl(midi).then(\n                function(result) {\n                    console.log(result);\n                    const noteSet1 = result.tracks[7].notes; // Redrum 1\n                    const noteSet2 = result.tracks[1].notes; // Maelstrom 1 - Ballstabbin\n                    const noteSet3 = result.tracks[4].notes; // Maelstrom 3 - Hot And Spicy\n                    p.scheduleCueSet(noteSet1, 'executeCueSet1');\n                    p.scheduleCueSet(noteSet2, 'executeCueSet2');\n                    p.scheduleCueSet(noteSet3, 'executeCueSet3');\n                    p.audioLoaded = true;\n                    document.getElementById(\"loader\").classList.add(\"loading--complete\");\n                    document.getElementById(\"play-icon\").classList.remove(\"fade-out\");\n                }\n            );\n            \n        }\n\n        p.preload = () => {\n            p.song = p.loadSound(audio, p.loadMidi);\n            p.song.onended(p.logCredits);\n        }\n\n        p.scheduleCueSet = (noteSet, callbackName, poly = false)  => {\n            let lastTicks = -1,\n                currentCue = 1;\n            for (let i = 0; i < noteSet.length; i++) {\n                const note = noteSet[i],\n                    { ticks, time } = note;\n                if(ticks !== lastTicks || poly){\n                    note.currentCue = currentCue;\n                    p.song.addCue(time, p[callbackName], note);\n                    lastTicks = ticks;\n                    currentCue++;\n                }\n            }\n        } \n\n        p.backgroundColour = 0;\n\n        p.setup = () => {\n            p.canvas = p.createCanvas(p.canvasWidth, p.canvasHeight);\n            p.background(p.backgroundColour);\n        }\n\n        p.draw = () => {\n            if(p.audioLoaded && p.song.isPlaying()){\n                for (var i = 0; i < p.drumHits.length; i++) {\n                    p.drumHits[i].update();\n                    p.drumHits[i].draw();\n                }\n\n                for (var i = 0; i < p.metalRings.length; i++) {\n                    p.metalRings[i].update();\n                    p.metalRings[i].draw();\n\n                    if (p.metalRings[i].y > p.height) {\n                        p.metalRings.splice(i, 1);\n                    }\n                }\n\n                for (var i = 0; i < p.bubbles.length; i++) {\n                    p.bubbles[i].update();\n                    p.bubbles[i].draw();\n                    if (p.bubbles[i].ballisFinished()) {\n                        p.bubbles.splice(i, 1);\n                    }\n                }\n            }\n        }\n\n        p.executeCueSet1 = (note) => {\n            let xPos = Math.floor(note.time * 100000) / 100000;\n            if(parseFloat(xPos) >= parseFloat(p.barAsSeconds)){\n                while(xPos >= p.barAsSeconds){\n                    xPos = xPos - p.barAsSeconds;\n                }\n\n                xPos = xPos > 0 ? xPos : 0;\n            }\n\n            let x = (p.width/32) + (p.width / p.barAsSeconds * xPos);\n            let y = 0;\n            let fill = 255;\n\n            switch(note.midi) {\n                case 44:\n                    y = (p.height / 6) * 1;\n                    fill = 255;\n                    break;\n                case 37:\n                    y = (p.height / 6) * 3;\n                    fill = 191;\n                    break;\n                case 36:\n                    y = (p.height / 6) * 5;\n                    fill = 127;\n                    break;\n            } \n\n            p.drumHits.push(new DrumHit(p, x, y, p.width / 16, fill));    \n        }\n\n        p.colourPallete = [\n            \"#F94144\", \"#F65A38\", \"#F3722C\",\n            \"#F68425\", \"#F8961E\", \"#F9AF37\",\n            \"#F9C74F\", \"#C5C35E\", \"#90BE6D\",\n            \"#6AB47C\", \"#43AA8B\", \"#4D908E\",\n        ];\n\n        p.executeCueSet2 = (note) => { \n            if(note.currentCue % 11 == 1 && note.currentCue > 1){\n                p.backgroundColour--;\n                p.background(p.backgroundColour);\n                p.bubbles = [];\n                const randomColor = require('randomcolor');\n                p.colourPallete = randomColor({\n                    count: 12,\n                    luminosity: 'dark'\n                });;\n            }\n            let xPos = Math.floor(note.time * 100000) / 100000;\n            const twoBars = p.barAsSeconds * 2;\n            if(parseFloat(xPos) >= parseFloat(twoBars)){\n                while(xPos >= twoBars){\n                    xPos = xPos - twoBars;\n                }\n\n                xPos = xPos > 0 ? xPos : 0;\n            }\n            const x = (p.width/32) * 3 + (p.width / twoBars * xPos);\n            p.metalRings.push(new Rings(p, x, p.colourPallete));\n        }\n\n        p.executeCueSet3 = (note) => { \n            if(note.currentCue % 11 == 1 && note.currentCue < 55){\n                p.backgroundColour--;\n                p.background(p.backgroundColour);\n                p.metalRings = [];\n            }\n            let xPos = Math.floor(note.time * 100000) / 100000;\n            const twoBars = p.barAsSeconds * 2;\n            if(parseFloat(xPos) >= parseFloat(twoBars)){\n                while(xPos >= twoBars){\n                    xPos = xPos - twoBars;\n                }\n\n                xPos = xPos > 0 ? xPos : 0;\n            }\n            const x = (p.width/32) * 3 + (p.width / twoBars * xPos),\n                y = p.random(0, p.height);\n            for (var i = 0; i < 32; i++) {\n                p.bubbles.push(\n                    new Bubble(\n                        p, \n                        p.map(x, 0, p.width, p.width, 0), \n                        y, \n                        p.colourPallete\n                    )\n                );\n            }\n        }\n\n        p.mousePressed = () => {\n            if(p.audioLoaded){\n                if (p.song.isPlaying()) {\n                    p.song.pause();\n                } else {\n                    if (parseInt(p.song.currentTime()) >= parseInt(p.song.buffer.duration)) {\n                        p.reset();\n                    }\n                    document.getElementById(\"play-icon\").classList.add(\"fade-out\");\n                    p.canvas.addClass(\"fade-in\");\n                    p.song.play();\n                }\n            }\n        }\n\n        p.creditsLogged = false;\n\n        p.logCredits = () => {\n            if (\n                !p.creditsLogged &&\n                parseInt(p.song.currentTime()) >= parseInt(p.song.buffer.duration)\n            ) {\n                p.creditsLogged = true;\n                    console.log(\n                    \"Music By: http://labcat.nz/\",\n                    \"\\n\",\n                    \"Animation By: https://github.com/LABCAT/\"\n                );\n                p.song.stop();\n            }\n        };\n\n        p.reset = () => {\n\n        }\n\n        p.updateCanvasDimensions = () => {\n            p.canvasWidth = window.innerWidth;\n            p.canvasHeight = window.innerHeight;\n            p.canvas = p.resizeCanvas(p.canvasWidth, p.canvasHeight);\n        }\n\n        if (window.attachEvent) {\n            window.attachEvent(\n                'onresize',\n                function () {\n                    p.updateCanvasDimensions();\n                }\n            );\n        }\n        else if (window.addEventListener) {\n            window.addEventListener(\n                'resize',\n                function () {\n                    p.updateCanvasDimensions();\n                },\n                true\n            );\n        }\n        else {\n            //The browser does not support Javascript event binding\n        }\n    };\n\n    useEffect(() => {\n        new p5(Sketch, sketchRef.current);\n    }, []);\n\n    return (\n        <div ref={sketchRef}>\n            <PlayIcon />\n        </div>\n    );\n};\n\nexport default P5SketchWithAudio;\n","import P5SketchWithAudio from './P5SketchWithAudio'\n\nfunction App() {\n  return (\n    <P5SketchWithAudio/>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/build.css';\nimport App from './js/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}